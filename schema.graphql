scalar DateTime
scalar Money

type Query {
    excerptReport: ExcerptReport!
    budgets(input: GetBudgetInput): [Budget!]!
    budgetByCode(code: String!): BudgetByCodePayload!
    expenses: [Expense!]!
    expenseById(id: String!): ExpenseByCodePayload!
}

type Mutation {
    createBudget(input: CreateBudgetInput!): CreateBudgetPayload!
    updateBudget(input: UpdateBudgetInput!): UpdateBudgetPayload!
    deleteBudget(input: DeleteBudgetInput!): DeleteBudgetPayload!
    deleteBudgetMany(input: DeleteBudgetManyInput!): DeleteBudgetManyPayload!
    createExpense(input: CreateExpenseInput!): CreateExpensePayload!
    updateExpense(input: UpdateExpenseInput!): UpdateExpensePayload!
    deleteExpense(input: DeleteExpenseInput!): DeleteExpensePayload!
    deleteExpenseMany(input: DeleteExpenseManyInput!): DeleteExpenseManyPayload!
}

type ExcerptReport {
    budget: Money!
    expense: Money!
    balance: Money!
}

input GetBudgetInput {
    createdBefore: DateTime
}

type Budget {
    code: String!
    name: String!
    amount: Money!
    expense: Money!
    balance: Money!
    transactions: [BudgetTransaction!]!
    createdAt: DateTime!
    updatedAt: DateTime!
}

type BudgetByCodePayload {
    code: Int!
    success: Boolean!
    message: String!
    budget: Budget
}

type BudgetTransaction {
    id: String!
    description: String!
    expense: Money
    balance: Money!
    transactionType: BudgetTransactionType!
    createdAt: DateTime!
    updatedAt: DateTime!
}

enum BudgetTransactionType {
    FUNDING
    EXPENSE
}

input CreateBudgetInput {
    name: String!
    amount: Money!
}

type CreateBudgetPayload {
    code: Int!
    success: Boolean!
    message: String!
    budget: Budget
}

input UpdateBudgetInput {
    code: String!
    name: String!
    amount: Money!
}

type UpdateBudgetPayload {
    code: Int!
    success: Boolean!
    message: String!
    budget: Budget
}

input DeleteBudgetInput {
    code: String!
}

type DeleteBudgetPayload {
    code: Int!
    success: Boolean!
    message: String!
    budget: Budget
}

input DeleteBudgetManyInput {
    codes: [String!]!
}

type DeleteBudgetManyPayload {
    code: Int!
    success: Boolean!
    message: String!
    budgets: [Budget!]
}

type CreateExpensePayload {
    code: Int!
    success: Boolean!
    message: String!
    expense: Expense
}

input CreateExpenseInput {
    budgetCode: String!
    description: String!
    amount: Money!
}

type Expense {
    id: String!
    budgetCode: String!
    budgetName: String!
    amount: Money!
    description: String!
    createdAt: DateTime!
    updatedAt: DateTime!
}

type ExpenseByCodePayload {
    code: Int!
    success: Boolean!
    message: String!
    expense: Expense
}

input UpdateExpenseInput {
    id: String!
    budgetCode: String!
    description: String!
    amount: Money!
}

type UpdateExpensePayload {
    code: Int!
    success: Boolean!
    message: String!
    expense: Expense
}

input DeleteExpenseInput {
    id: String!
}

type DeleteExpensePayload {
    code: Int!
    success: Boolean!
    message: String!
    expense: Expense
}

input DeleteExpenseManyInput {
    ids: [String!]!
}

type DeleteExpenseManyPayload {
    code: Int!
    success: Boolean!
    message: String!
    expenses: [Expense!]
}